<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.board.mappers.soccergame">
	<insert id="insertgame" parameterType="hashMap">
		INSERT INTO soccergame (home,away,indate)
		values
		<foreach collection="list" item="list" separator=" , ">(#{list.home},#{list.away},#{list.indate})</foreach>
	</insert>
	<select id="gamelist" parameterType="hashMap" resultType="com.ksm.dto.SoccerGame">
	SELECT *
	FROM soccergame
	WHERE indate
	BETWEEN #{startdate} and #{enddate}
	order by indate asc
	</select>
	<select id="count" parameterType="hashMap" resultType="int">
	SELECT count(*)
	FROM soccergame
	WHERE indate
	BETWEEN #{startdate} and #{enddate}
	</select>
	<update id="update" parameterType="com.ksm.dto.SoccerGame">
	update soccergame
	set point=#{point},
	losepoint=#{losepoint},
	<if test="point > losepoint">
	result = 1
	</if>
	<if test="point = losepoint">
	result = 2
	</if>

	where qseq=#{qseq}
	</update>
</mapper>